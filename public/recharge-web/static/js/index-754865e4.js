import{O as e,L as t}from"./vant@4.0.2_vue@3.2.45-0f7d1012.js";import{_ as a,f as r}from"./index-91e2b5ed.js";import{v as n,x as o,y as s,C as i,j as u}from"./@vue_runtime-core@3.2.45-3536ec1e.js";import{u as m}from"./vue-router@4.1.6_vue@3.2.45-08347e33.js";import{u as c}from"./vue-i18n@9.2.2_vue@3.2.45-dbb84d24.js";import{h as f}from"./index-9d169e54.js";import{c as l}from"./channel-c200ba5e.js";import{r as p}from"./@vue_reactivity@3.2.45-cfab916d.js";const d={class:"wrapper"},h=a({__name:"GroupLoading",setup:a=>(a,r)=>{const m=t,c=e;return n(),o(c,{show:true},{default:s((()=>[i("div",d,[u(m,{type:"spinner",size:"24px"})])])),_:1})}},[["__scopeId","data-v-11936ff6"]]);function v(){const e=m(),{t:t}=c(),a=JSON.parse(e.query.params),n=JSON.parse(e.query.next),o=p(!1),s=p({}),i=async()=>{try{const e={...a},{code:o,data:i}=await f.get("/payEstimate/allChannelEstimateFee",e);if(200===o){for(let e=0;e<i.length;e++){const o=i[e];o.price=o.amount;let s=Number(a.value);o.buyEachTimeMin>s&&(o.errMsg=t("noAccordWithMin")+r(o.buyEachTimeMin*n.rate,2)+n.legalUnit),o.buyEachTimeMax<s&&(o.errMsg=t("noAccordWithMax")+r(o.buyEachTimeMax*n.rate,2)+n.legalUnit)}if(!a.fiat2Token)for(let e=0;e<i.length;e++){const t=i[e];t.amount=t.amount*n.rate}s.value=i}}catch(e){}};i();return{t:t,route:e,routerParams:a,routerNext:n,showLoading:o,commInfo:s,onGetInfo:i,onItemClick:e=>{if(e.errMsg)return;const t=n;t.channelIdent=e.channelIdent,t.tokenAmount=e.amount,o.value=!0,setTimeout((()=>{o.value=!1}),5e3),l(e.channelIdent,t)}}}export{h as _,v as u};
