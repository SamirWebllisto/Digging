import{I as a,L as s,P as e}from"./vant@4.0.2_vue@3.2.45-0f7d1012.js";import{_ as o,M as n,S as t}from"./supplier-12434f30.js";import{R as l,A as i,_ as c}from"./assets-a6663fd2.js";import{h as r}from"./index-9d169e54.js";import{u}from"./index-3f34b3f1.js";import{_ as d}from"./index-91e2b5ed.js";import{r as p,u as m}from"./@vue_reactivity@3.2.45-cfab916d.js";import{b as v,o as h,v as f,A as b,C as y,x as g,D as k,j as w,y as x,s as _,E as j,G as C}from"./@vue_runtime-core@3.2.45-3536ec1e.js";import{I,n as L}from"./@vue_shared@3.2.45-800437f9.js";import"./@vue_runtime-dom@3.2.45-cffd43d2.js";import"./@vant_use@1.4.3-cf798011.js";import"./vue-i18n@9.2.2_vue@3.2.45-dbb84d24.js";import"./@intlify_shared@9.2.2-d1f44ad0.js";import"./@intlify_core-base@9.2.2-0e6bfd90.js";import"./@intlify_message-compiler@9.2.2-f9606ba4.js";import"./@intlify_devtools-if@9.2.2-0bacd0ee.js";import"./axios@1.2.0-be54863b.js";import"./form-data@4.0.0-d4e29958.js";import"./channel-c200ba5e.js";import"./vue-router@4.1.6_vue@3.2.45-08347e33.js";import"./pinia@2.0.27_vue@3.2.45-169bf4d2.js";import"./vue-demi@0.13.11_vue@3.2.45-cc62bdbe.js";import"./@vant_touch-emulator@1.4.0-b69b1720.js";const E=a=>(j("data-v-32192ade"),a=a(),C(),a),V={class:"purchase-page"},B={class:"info-container"},U={class:"back-icon"},A={class:"select-item"},P={class:"label"},S={class:"infos"},z={class:"icon"},D=["src"],G={key:1,src:"https://ullafile.oss-cn-chengdu.aliyuncs.com/image/currency/URB.png"},K={class:"name"},N={key:0,class:"right"},R=["src"],M={class:"select-item",style:{"margin-bottom":"30px"}},O={class:"label"},T={class:"select"},W={class:"infos"},q={class:"icon",style:{position:"relative"}},$=["src"],F=["src"],H={class:"name MultipleLin"},J=E((()=>y("div",{class:"right"},null,-1))),Q=["src"],X={class:"name"},Y={key:1,class:"channel-opt"},Z=E((()=>y("img",{src:c,alt:""},null,-1))),aa={class:"name",style:{color:"#9A9A9A"}},sa={key:1,class:L(["next-btn","disabled"])},ea=d({__name:"index2",setup(c){const d=p(!1),j=p(!1),C=p(!1);p([]);const E=p([]);p({});const ea=p({}),oa=a=>{d.value=!1,ta.value=a.acronym,ba(a),la.value=pa.value.find((s=>s.acronym===a.acronym))},na=a=>{ya(a),C.value=!1},ta=p(),la=p({}),ia=p([]),ca=p(null),ra=a=>{j.value=!1,ea.value=a};v((async()=>{document.body.style.overflow="initial",ta.value=ma.downValue,la.value=pa.value.find((a=>a.acronym===ma.downValue));const a=await r.post("/token/chainBaseToken",{},{baseURL:"https://app.ullapay.com/exchange"});ia.value=(a.data||[]).map((a=>a.tokens)).flat(),ca.value=ia.value.find((a=>a.net===ma.net&&a.symbol===ma.symbol))})),h((()=>{document.body.style.overflow=""}));const{t:ua,showLoading:da,downList:pa,state:ma,unitShow:va,outGetInfo:ha,onKsysChange:fa,onDownChange:ba,changeChannelIdent:ya,onSwitch:ga,commInfo:ka,allChannel:wa,commParams:xa,accordWithPrc:_a,onGetInfo:ja,onProcessParam:Ca,routerSwitch:Ia,changeInpputValue:La,disabled:Ea,next:Va,onBack:Ba,route:Ua}=u();return(c,r)=>{const u=a,p=s,v=o,h=e;return f(),b("div",V,[y("div",B,[y("div",U,["1"!==m(Ua).query.businessId?(f(),g(u,{key:0,name:"arrow-left",size:"26",onClick:r[0]||(r[0]=a=>m(Ba)())})):k("",!0)]),y("div",A,[y("label",P,I(m(ua)("startpay.pay")),1),y("div",{class:"select",onClick:r[1]||(r[1]=a=>d.value=!!m(ma).switch)},[y("span",{class:L(["amount",{hasValue:m(ma).inputValue>0}])},I(m(ma).inputValue),3),y("div",S,[y("div",z,[m(ma).switch?(f(),b("img",{key:0,src:la.value.icon},null,8,D)):(f(),b("img",G))]),y("div",K,I(la.value.name),1),m(ma).switch?(f(),b("div",N,[y("img",{src:m(l)},null,8,R)])):k("",!0)])])]),y("div",M,[y("label",O,I(m(ua)("startpay.get")),1),y("div",T,[y("span",{class:L(["amount",{hasValue:m(ma).inputValue>0}])},I(m(ka).amount),3),y("div",W,[y("div",q,[ca.value?(f(),b("img",{key:0,src:ca.value.logoUrl},null,8,$)):k("",!0),ca.value&&2===ca.value.coinType?(f(),b("img",{key:1,style:{position:"absolute","border-radius":"100%",right:"-5px",bottom:"0",width:"15px",height:"15px",border:"1px solid white"},src:ca.value.chainIcon},null,8,F)):k("",!0)]),y("div",H,[y("span",null,I(m(va))+I(m(ma).switch?"":`(${m(ma).unitIcon})`),1),y("span",null,I(m(ma).net),1)]),J])])]),m(ka).channelName?(f(),b("div",{key:0,class:"channel-opt",onClick:r[2]||(r[2]=a=>C.value=!0)},[y("img",{src:m(ka).channelIcon,alt:""},null,8,Q),y("div",X,I(m(ka).channelName),1),w(u,{name:"arrow",size:"18"})])):(f(),b("div",Y,[Z,y("div",aa,I(m(ua)("null")),1)]))]),w(v,{onOnKsysChange:m(fa)},{footer:x((()=>[m(ka).channelName?(f(),b("div",{key:0,class:L(["next-btn",m(Ea)&&"disabled",m(ma).accordWithDis&&"disabled"]),onClick:r[3]||(r[3]=(...a)=>m(Va)&&m(Va)(...a))},[m(da)?(f(),g(p,{key:0,style:{"margin-right":"10px"},type:"spinner",size:"24px"})):k("",!0),_(" "+I(m(ua)("next")),1)],2)):(f(),b("div",sa,I(m(ua)("next")),1))])),_:1},8,["onOnKsysChange"]),w(h,{position:"bottom",style:{height:"90vh","border-radius":"10px 10px 0 0","--van-popup-background":"#0E0E0E"},show:d.value,"onUpdate:show":r[5]||(r[5]=a=>d.value=a)},{default:x((()=>[w(n,{class:"popup",onBack:r[4]||(r[4]=a=>d.value=!1),tokenList:m(pa),onConfirm:oa},null,8,["tokenList"])])),_:1},8,["show"]),w(h,{position:"bottom",style:{height:"90vh","border-radius":"10px 10px 0 0","--van-popup-background":"#0E0E0E"},show:j.value,"onUpdate:show":r[7]||(r[7]=a=>j.value=a)},{default:x((()=>[w(i,{class:"popup",onBack:r[6]||(r[6]=a=>j.value=!1),tokenList:E.value,onConfirm:ra},null,8,["tokenList"])])),_:1},8,["show"]),w(h,{position:"bottom",style:{height:"90vh","border-radius":"10px 10px 0 0","--van-popup-background":"#0E0E0E"},show:C.value,"onUpdate:show":r[9]||(r[9]=a=>C.value=a)},{default:x((()=>[w(t,{class:"popup",onBack:r[8]||(r[8]=a=>C.value=!1),tokenList:m(wa),onConfirm:na},null,8,["tokenList"])])),_:1},8,["show"])])}}},[["__scopeId","data-v-32192ade"]]);export{ea as default};
